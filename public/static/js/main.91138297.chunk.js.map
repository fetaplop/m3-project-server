{"version":3,"sources":["redux/reducers/stopsReducer.js","lib/auth-service.js","lib/user-service.js","lib/Auth.js","components/NavbarComp.js","lib/stop-service.js","components/Search.js","pages/Home.js","pages/Signup.js","pages/Login.js","pages/Private.js","pages/StopPage.js","components/PublicRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["initialState","stopsReducer","state","action","type","payload","axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","username","password","post","then","data","get","userFunctions","user","response","delete","React","createContext","Consumer","Provider","withAuth","WrappedComponent","props","valueFromProvider","isLoggedIn","isLoading","login","signup","logout","deleteUser","AuthProvider","authService","setState","catch","err","console","log","userService","me","value","children","Component","nextProps","Navbar","bg","variant","Nav","className","activeKey","Item","to","Button","size","onClick","fetchStopDataFunctions","stop","id","Search","searchFor","searchResults","search","text","filteredStops","stopsData","filter","stop_name","toLowerCase","includes","handleSearchInput","e","target","length","stopService","getAll","serverData","addAllStops","stopsearch","class","InputGroup","Prepend","Text","FormControl","placeholder","aria-label","onChange","aria-describedby","map","key","stop_code","_id","connect","dispatch","stopsFromServer","Home","handleFormSubmit","event","preventDefault","handleChange","name","onSubmit","userFaves","favourites","arrayFromServer","isFave","handleLike","stopID","save","saved","unsave","unsaved","match","params","getOne","stopFromServer","userFavourites","fave","forEach","favstop","thisStop","style","backgroundColor","exact","path","component","render","App","Signup","Login","StopPage","Private","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.91138297.chunk.js","sourcesContent":["\r\nconst initialState = []\r\n\r\nconst stopsReducer = (state=initialState, action) => {\r\n    //return state\r\n    switch (action.type) {\r\n        case \"ADD_ALL_STOPS\":\r\n            return [...state, ...action.payload] //take previous state and add payload coming from action \r\n            //!! creatinf a new state, NOT trying to modify existing\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n    \r\n}\r\n\r\nexport default stopsReducer","import axios from \"axios\";\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL, // maybe use env values here :| //(process.env.REACT_APP_API_URL + '/api/projects', body)\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  signup({ username, password }) {\r\n    return this.auth\r\n      .post(\"/auth/signup\", { username, password })\r\n      .then(({ data }) => data); // taking data out of response object with destructuring\r\n    // .then((response) => response.data);\r\n  }\r\n\r\n  login({ username, password }) {\r\n    return this.auth\r\n      .post(\"/auth/login\", { username, password })\r\n      .then(({ data }) => data);\r\n    // .then((response) => response.data);\r\n  }\r\n\r\n  logout() {\r\n    return this.auth.get(\"/auth/logout\", {}).then(({ data }) => data);\r\n    // return this.auth.get(\"/auth/logout\", {}).then((response) => response.data);\r\n  }\r\n\r\n  me() {\r\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\r\n    // return this.auth.get(\"/auth/me\").then((response) => response.data);\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","import axios from \"axios\";\r\n\r\nclass User {\r\n    constructor() {\r\n        this.user = axios.create({\r\n            baseURL: process.env.REACT_APP_API_URL, // maybe use env values here :|\r\n            withCredentials: true // is this needed??? some of these methods will need to know if a user is logged in\r\n        })\r\n    }\r\n\r\n    favourites() {\r\n        return this.user\r\n        .get(\"/user/favourites\")\r\n        .then((response) => response.data)\r\n    }\r\n\r\n    delete() {\r\n        return this.user\r\n        .delete(\"user/delete\") // should work since in backend we get the user from req.session.currentUSer\r\n        .then((response) => response.data)\r\n    }\r\n}\r\n\r\nconst userFunctions = new User()\r\nexport default userFunctions","import React from 'react';\r\n\r\nimport authService from \"./auth-service\";\r\nimport userService from \"./user-service\";\r\nconst {Consumer, Provider} = React.createContext();\r\n\r\n\r\n// CHECK THE PORTS!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// authService\r\n//       .signup({ firstName, lastName, email, password })\r\n//       .then(user => this.setState({ isLoggedin: true, user }))\r\n//       .catch(err => console.log(err) );\r\n\r\n\r\n\r\n// HOC\r\nfunction withAuth(WrappedComponent) {\r\n\r\n  return function (props) {\r\n    return (\r\n      <Consumer>\r\n        {(valueFromProvider) => (\r\n          <WrappedComponent\r\n            {...props}\r\n            user={valueFromProvider.user}\r\n            isLoggedIn={valueFromProvider.isLoggedIn}\r\n            isLoading={valueFromProvider.isLoading}\r\n            //errorMessage={valueFromProvider.errorMessage}\r\n            login={valueFromProvider.login}\r\n            signup={valueFromProvider.signup}\r\n            logout={valueFromProvider.logout}\r\n            deleteUser={valueFromProvider.deleteUser}\r\n          />\r\n        )}\r\n      </Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nclass AuthProvider extends React.Component {\r\n  state = {\r\n    user: null,\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n    //errorMessage: null\r\n  }\r\n\r\n  componentDidMount() {\r\n    // When app and AuthProvider load for the first time\r\n    // make a call to the server '/me' and check if user is authenitcated\r\n    // axios.get('http://localhost:5666/auth/me', { withCredentials: true })\r\n    authService.me()\r\n      .then((user) => { // maybe we want to get favStops at the same time and save them to the state (and update in StopPage)\r\n        this.setState({isLoggedIn: true, isLoading: false, user});\r\n      })\r\n      .catch((err) => this.setState({isLoggedIn: false, isLoading: false, user: null}));\r\n  }\r\n\r\n  login = (username, password) => {\r\n    authService.login({username, password})\r\n      // axios.post('http://localhost:5666/auth/login', { username, password }, { withCredentials: true })\r\n      .then((user) => {\r\n        this.setState({isLoggedIn: true, isLoading: false, user});//, errorMessage: null\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n        this.setState({isLoggedIn: false, isLoading: false, user: null});//, errorMessage: \"Login failed\"\r\n      }); // we only consolelog this error but to change the RENDERING, we should \r\n    // somehow^TM handle it\r\n    // cretae error object and check in views if it exists ?\r\n  }\r\n  signup = (username, password) => {\r\n    // axios.post('http://localhost:5666/auth/signup', { username, password }, { withCredentials: true })\r\n    authService.signup({username, password})\r\n      .then((user) => {\r\n        // const user = response.data; dont need this with authServices\r\n        this.setState({isLoggedIn: true, isLoading: false, user});\r\n      })\r\n      .catch((err) => {\r\n        console.log(err)\r\n        this.setState({isLoggedIn: false, isLoading: false, user: null})//, errorMessage: \"Signup failed\"\r\n      });\r\n  }\r\n  logout = () => {\r\n    // axios.get('http://localhost:5666/auth/logout', { withCredentials: true })\r\n    authService.logout()\r\n      .then(() => {\r\n        this.setState({isLoggedIn: false, isLoading: false, user: null});\r\n        // can we set other stuff here as well? to fix that after login/logout teh faves show wrong?\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  deleteUser = () => {\r\n    userService.delete()\r\n    .then(() => {\r\n      this.setState({isLoggedIn: false, isLoading: false, user: null})\r\n    })\r\n    .catch((err) => { console.log(err)} )\r\n  }\r\n\r\n  render() {\r\n    const {user, isLoggedIn, isLoading} = this.state;//, errorMessage\r\n    const {login, signup, logout, deleteUser} = this;\r\n\r\n    return (\r\n      <Provider value={{user, isLoggedIn, isLoading, login, signup, logout, deleteUser}}>\r\n        {this.props.children}\r\n      </Provider>//, errorMessage this was after isLoading\r\n    )\r\n  }\r\n}\r\n\r\nexport {withAuth, AuthProvider}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport '../App.css';\r\n\r\nimport { withAuth } from './../lib/Auth';\r\n\r\nclass NavbarComp extends Component {\r\n  \r\n  shouldComponentUpdate(nextProps) {\r\n    return (this.props.user !== nextProps.user)\r\n  }\r\n\r\n  render() {\r\n    // `user`, `logout`, `isLoggedIn` are coming from the AuthProvider \r\n    // and are injected by the withAuth HOC\r\n    const { user, logout, isLoggedIn } = this.props;\r\n\r\n\r\n  //   return (\r\n  //     <nav className=\"navbar\">\r\n  //       <Link to={'/'} id='home-btn'>\r\n  //         <h4>Search for stops</h4>\r\n  //       </Link>\r\n  //       {\r\n  //         isLoggedIn\r\n  //           ? <div>\r\n  //             <p>{user.username}</p>\r\n  //             <button onClick={logout}> Logout </button>\r\n  //             <br />\r\n  //               <Link to=\"/private\">\r\n  //                 {' '}\r\n  //                 <button className=\"navbar-button\">My Page</button>{' '}\r\n  //               </Link>\r\n  //           </div>\r\n  //           : (\r\n  //             <>\r\n  //               <Link to=\"/login\">\r\n  //                 {' '}\r\n  //                 <button className=\"navbar-button\">Login</button>{' '}\r\n  //               </Link>\r\n  //               <br />\r\n  //               <Link to=\"/signup\">\r\n  //                 {' '}\r\n  //                 <button className=\"navbar-button\">Sign Up</button>{' '}\r\n  //               </Link>\r\n\r\n  //             </>\r\n  //           )}\r\n  //     </nav>\r\n  //   );\r\n  // }\r\n\r\n  // refactor render:\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n    <Nav className=\"nav\" activeKey=\"/\" >\r\n      <Nav.Item>\r\n        <Link to=\"/\"> <Button size=\"lg\" variant=\"outline-info\"> Search for stops </Button> </Link>\r\n      </Nav.Item>\r\n      \r\n\r\n      {isLoggedIn\r\n      ? (\r\n      <>\r\n        <Nav.Item>\r\n        <Link to=\"/private\" ><Button size=\"lg\" variant=\"outline-info\"> My page </Button></Link>\r\n        </Nav.Item>\r\n      \r\n\r\n      \r\n      <Nav.Item>\r\n      <Link onClick={this.props.logout}> <Button size=\"lg\" variant=\"outline-info\"> Logout </Button> </Link>\r\n      </Nav.Item>\r\n      </>\r\n      \r\n        /* <Nav.Item>\r\n          <Nav.Link eventKey=\"/logout\" onClick={logout}> Logout </Nav.Link>\r\n        </Nav.Item> */\r\n      )\r\n      : \r\n      <>\r\n      <Nav.Item>\r\n        <Link to=\"/signup\"><Button size=\"lg\" variant=\"outline-info\"> Signup </Button></Link>\r\n      </Nav.Item>\r\n\r\n      <Nav.Item>\r\n         <Link to=\"/login\"><Button size=\"lg\" variant=\"outline-info\"> Login </Button></Link>\r\n      </Nav.Item>\r\n      </>\r\n      }\r\n    </Nav>\r\n    </Navbar>\r\n  );\r\n  }\r\n\r\n}\r\n\r\n/* <Nav\r\n  activeKey=\"/home\"\r\n  onSelect={(selectedKey) => alert(`selected ${selectedKey}`)}\r\n  >\r\n  <Nav.Item>\r\n  <Nav.Link href=\"/home\">Active</Nav.Link>\r\n  </Nav.Item>\r\n  <Nav.Item>\r\n    <Nav.Link eventKey=\"link-1\">Link</Nav.Link>\r\n    </Nav.Item>\r\n  <Nav.Item>\r\n  <Nav.Link eventKey=\"link-2\">Link</Nav.Link>\r\n  </Nav.Item>\r\n  <Nav.Item>\r\n  <Nav.Link eventKey=\"disabled\" disabled>\r\n  Disabled\r\n    </Nav.Link>\r\n    </Nav.Item>\r\n  </Nav> */\r\n\r\n  export default withAuth(NavbarComp);","import axios from \"axios\"\r\n\r\nclass Stop {\r\n    constructor() {\r\n        this.stop = axios.create({\r\n            baseURL: process.env.REACT_APP_API_URL, // maybe use env values here :|\r\n            withCredentials: true // is this needed??? some of these methods will need to know if a user is logged in\r\n        })\r\n    }\r\n\r\n    getAll() {\r\n        return this.stop\r\n        .get(\"/stops\")\r\n        .then((response) => response.data)\r\n        // so yeah no error handling here\r\n    }\r\n\r\n    getOne(id) {\r\n        return this.stop\r\n        .get(`/stops/${id}`)\r\n        .then((response) => response.data)\r\n    }\r\n\r\n    // this one is a POST!\r\n    save(id) {\r\n        return this.stop\r\n        .post(`/stops/${id}/save`) //\"/:id/save\"\r\n        .then((response) => response.data)\r\n    }\r\n\r\n    unsave(id) {\r\n        return this.stop\r\n        .post(`/stops/${id}/unsave`)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nconst fetchStopDataFunctions = new Stop()\r\n\r\nexport default fetchStopDataFunctions","//axios.post('http://localhost:5666/auth/signup', { username, password }, { withCredentials: true })\r\nimport React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\"\r\nimport InputGroup from 'react-bootstrap/InputGroup';\r\nimport FormControl from 'react-bootstrap/FormControl';\r\n\r\nimport stopService from \"../lib/stop-service\"\r\nimport {connect} from \"react-redux\"\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    state = {\r\n        //data: [],\r\n        searchFor: \"\",\r\n        searchResults: [],\r\n        //loading: true // USE REDUX!!!\r\n    } \r\n\r\n    componentDidMount() {\r\n        // 1) hard-coded version\r\n        // axios.get(\"http://localhost:5666/stops/\")\r\n        // .then( (response) => {\r\n        //     const serverData = response.data\r\n        //     console.log('serverData', serverData)\r\n        //     this.setState({data: serverData})\r\n        // } )\r\n\r\n        // 2) using stopService AND redux\r\n\r\n    const stopsDataExists = (this.props.stopsData.length > 0)\r\n\r\n    if (stopsDataExists) {\r\n        return //dont try to get the data again!\r\n    }\r\n        stopService.getAll()\r\n        .then( serverData => {\r\n            console.log('serverData with stopService getAll me:', serverData)\r\n            this.props.addAllStops(serverData)\r\n            //this.setState({loading: false})\r\n        })\r\n\r\n        .catch((err) => console.log(\"error while getting data from server\",err))\r\n    }\r\n\r\n    search = (text) => { // change this to consume data that redux provides\r\n        let filteredStops = this.props.stopsData.filter( stop => {\r\n            return stop.stop_name.toLowerCase().includes(text.toLowerCase())\r\n        } )\r\n        this.setState({searchResults: filteredStops})\r\n    }\r\n\r\n    handleSearchInput = (e) => {\r\n        let {value} = e.target;\r\n        //console.log('value from search:', value) // it works! no need to log this anymore\r\n        this.setState({searchFor: value}, () => {this.search(value)})\r\n    }\r\n\r\n    render() {\r\n        const stopsearch = this.state.searchResults\r\n        return ( // add bus animation!!\r\n            <div class=\"search-field\">\r\n                {(this.props.stopsData.length > 0)\r\n                ?(\r\n                    <InputGroup className=\"mb-3\">\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text id=\"basic-addon1\">Search</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl\r\n                        placeholder=\"Search for bus stops by name\"\r\n                        aria-label=\"Search\"\r\n                        value={this.state.searchFor} \r\n                        onChange={this.handleSearchInput}\r\n                        aria-describedby=\"basic-addon1\"\r\n                        />\r\n                    </InputGroup>\r\n\r\n                // <div>\r\n                //     {/* <label>Search: </label> */}\r\n                //     <input \r\n                //     type=\"text\" \r\n                //     value={this.state.searchFor} \r\n                //     onChange={this.handleSearchInput} \r\n                //     placeholder=\"Search for bus stops by name\" />\r\n                // </div>\r\n                )\r\n                : <p>Loading data...</p>\r\n                }\r\n\r\n\r\n\r\n                <div>\r\n                    {stopsearch.map(stop => {               \r\n                        return (\r\n                            // using stopCode as key since they will NEVER change unless I purge the whole DB\r\n                            <div key={stop.stop_code}>\r\n                            <Link to={`/stops/${stop._id}`} >\r\n                                <h4>{stop.stop_name}</h4>\r\n                            </Link>\r\n                            </div> // tried to add this inside first Link tag after to={}:  passingstuff={stop} but did not work\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {stopsData: state}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addAllStops: (stopsFromServer) => {\r\n            dispatch({type: \"ADD_ALL_STOPS\", payload: stopsFromServer})} // add stops to redux\r\n    }\r\n}\r\n\r\n// connect redux\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);","import React from 'react'\r\nimport Search from '../components/Search'\r\nimport '../App.css';\r\n\r\nfunction Home() {\r\n  return (\r\n    <div class=\"greeting\"> \r\n      <h1>Welcome, traveller! </h1>\r\n        <Search/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from './../lib/Auth';\r\n\r\nclass Signup extends Component {\r\n  state = { username: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n\r\n    this.props.signup(username, password);\r\n    // this.props.signup method is coming from the AuthProvider\r\n    // injected by the withAuth() HOC\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n\r\n        {/* {this.props.errorMessage? <h1> {this.props.errorMessage} </h1> : null } */}\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n\r\n          <label>Username:</label>\r\n          <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Signup\" />\r\n        </form>\r\n\r\n        <p>Already have account?</p>\r\n        <Link to={\"/login\"}> Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Signup);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from './../lib/Auth';\r\n\r\nclass Login extends Component {\r\n  state = { username: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n\r\n    this.props.login(username, password);\r\n    // this.props.login method is coming from the AuthProvider\r\n    // injected by the withAuth() HOC\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  // handleOk = event => {\r\n  //   this.setState({ errorMessage: null })\r\n  // }\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n\r\n    // if (this.props.errorMessage) {\r\n    //   return (\r\n    //   <div>\r\n    //     <h1> {this.props.errorMessage} </h1>\r\n    //     <button onClick={this.handleOk} > OK I GUESS </button>\r\n\r\n    //   </div>)\r\n    // }\r\n      \r\n      return (\r\n\r\n        \r\n\r\n        <div>\r\n          <h1>Login</h1>\r\n\r\n          {/* {this.props.errorMessage? <h1> {this.props.errorMessage} </h1> : null } */}\r\n  \r\n          <form onSubmit={this.handleFormSubmit}>\r\n  \r\n            <label>Username:</label>\r\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange} />\r\n  \r\n            <label>Password:</label>\r\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n  \r\n            <input type=\"submit\" value=\"Login\" />\r\n          </form>\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from './../lib/Auth';\r\nimport userService from \"../lib/user-service\"\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n//import DeleteUser from \"../components/DeleteUser\";\r\nimport '../App.css';\r\n\r\n\r\nclass Private extends Component {\r\n\r\n  state = {\r\n    userFaves: null,\r\n    // not great. How can I destroy the user state as well? \r\n    // we have to get rid of ALL user data AND session. then we need to REDIRECT TO LOGIN\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // could I use this?????\r\n  }\r\n\r\n  componentDidMount() {\r\n    userService.favourites()\r\n    .then(arrayFromServer => {\r\n      console.log('got this array of bus stops from server:', arrayFromServer)\r\n      this.setState({userFaves: arrayFromServer})\r\n    })\r\n  }\r\n\r\n  // deleteMe = () => {\r\n  //   return userService.delete()\r\n  //   .then( deleted => {\r\n  //       console.log('deleted user, hopefully');\r\n  //       console.log('this.props after delete', this.props)\r\n  //       this.props.history.push(\"/\")\r\n        \r\n  //   })\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        \r\n        {\r\n          this.props.isLoggedIn\r\n            ? <div class=\"greeting\"> <h1 >Welcome, {this.props.user.username}!</h1> </div>\r\n            : null\r\n        }\r\n        \r\n        {/* {\r\n          <>\r\n          (this.state.userFaves.length !== 0)\r\n          ? <p> Your saved bus stops: </p>\r\n          : <p>You haven't saved any stops yet</p>\r\n          <>\r\n        } */}\r\n        \r\n        {\r\n          this.state.userFaves !== null \r\n          ? (\r\n            this.state.userFaves.map(stop => {\r\n              return ( // consider another key for this?\r\n              <div class=\"search-field\" key={stop.stop_code}>\r\n                <Link to={`/stops/${stop._id}`}> <h4>{stop.stop_name}, code: {stop.stop_code}</h4>  </Link> \r\n              </div> )\r\n            })\r\n            \r\n            )\r\n          : null\r\n        }\r\n\r\n        {\r\n          this.props.isLoggedIn\r\n          ?  <button onClick={this.props.deleteUser}> Delete user?</button> // <DeleteUser/>\r\n          : null\r\n        }\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Private);\r\n","import React, { Component } from 'react';\r\nimport stopService from \"../lib/stop-service\"\r\nimport userService from \"../lib/user-service\"\r\n//import authService from \"../lib/auth-service\"\r\nimport {withAuth} from '../lib/Auth';\r\nimport '../Stop.css';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\n\r\nclass StopPage extends Component {\r\n\r\n    state = { // \r\n        stop: {},\r\n        isFave: null\r\n        //isLoading: true\r\n    }\r\n\r\n    handleLike = () => {\r\n        // send POST to server to add or remove this stop from faves\r\n        // use state: is it fave ? yes -> unsave in server : no -> save in server \r\n        const stopID = this.state.stop._id \r\n        console.log('stopID', stopID)\r\n        if (this.state.isFave === false) { // if user has not liked already, like this stop!\r\n            stopService.save(stopID)\r\n            .then(saved => {\r\n                console.log('saved from handleLike()', saved)\r\n                this.setState({isFave: true})\r\n            })\r\n        }\r\n        // let's be super explicit about it and use another if block:\r\n        if (this.state.isFave === true) {\r\n            stopService.unsave(stopID)\r\n            .then(unsaved => {\r\n                console.log('unsaved this stop from handleLike()', unsaved)\r\n                this.setState({isFave: false})\r\n            })\r\n        }\r\n    }\r\n\r\n    // the BIG QUESTION: how to make my stop only render after I got the data from my server??\r\n    componentDidMount() { // this really eeds to be optimised better..\r\n        const {id} = this.props.match.params\r\n        console.log('id from componentDidMount:', id)\r\n\r\n        // if (this.props.isLoggedIn === true) {\r\n        //     console.log('this.props.user.favStops', this.props.user.favStops)\r\n        // }\r\n\r\n        stopService.getOne(id)\r\n        .then(stopFromServer => {\r\n            console.log('stopfromServer inside StopPage compoenntDid*Mount:', stopFromServer)\r\n            // trying to add state update here since now we don't get the stop displaying as public user\r\n            this.setState({stop: stopFromServer})\r\n            //this.setState({stop: stopFromServer, isLoading: false}) // !! using isLoading here? is it bad, can I even use it with stop-service?\r\n            \r\n            if (this.props.isLoggedIn) {\r\n\r\n                userService.favourites()\r\n                .then( userFavourites => {\r\n                    console.log('userFavourites', userFavourites)\r\n                    console.log('stopFromServer inside userFavourties, ', stopFromServer)\r\n                    \r\n                    let fave = false; // assume it's not favourite and then check\r\n                    if (userFavourites.length > 0) \r\n                    {userFavourites.forEach(favstop => { // look for each stop in user's favourite stops\r\n                    console.log(\"the type of \" + favstop._id + \" is: \" + typeof(favstop._id))\r\n                    console.log('the id from componentdid mountis this? ', id)\r\n                    if (favstop._id === id) {\r\n                        console.log('we found a match')\r\n                        fave = true\r\n                    }\r\n                })}\r\n                console.log('fave before setting state', fave)\r\n                this.setState({isFave: fave})\r\n            })\r\n            .catch(err => {\r\n                console.log('error from trying to update user likes, likely because we are not logged in', err)\r\n            })\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log('err from StopService.GetOne in componentDidmount', err)\r\n        })\r\n        \r\n    }\r\n    \r\n    render() {\r\n \r\n        console.log('this.props.user from render', this.props.user)\r\n        \r\n        let thisStop = this.state.stop\r\n        console.log('thisStop in render comign from this.state', thisStop)\r\n        console.log('this.state', this.state)\r\n        // let buses = thisStop.busLines.map( bus => {\r\n        //     return `${bus}, ` })\r\n        // console.log('buses', buses)\r\n\r\n        // FUCKING HELL THIS NOW RENDERS IN LOGIN AND SIGNUP WTF??? update! now only after logging out\r\n\r\n\r\n\r\n\r\n        return (\r\n            // (this.state.isLoading? <h2>still loading page...</h2>\r\n            // : \r\n            <div class=\"stopContain\">\r\n                <h1>{thisStop.stop_name}</h1>\r\n                <p>buses servicing this stop: {} </p> \r\n                {/* tried using spread to get the bus lines but nah dont work */}\r\n                {this.props.isLoggedIn\r\n                ? (this.state.isFave \r\n                    ? <button onClick={this.handleLike} style={ {backgroundColor: 'green'} } >is mah fave, unlike?</button>\r\n                    : <button onClick={this.handleLike} style={ {backgroundColor: 'red'} }>not fave, wanna save? </button> )\r\n                : <p>Log in to save this stop to favourites </p> }\r\n\r\n                {/* <Card style={{ width: '18rem' }}>\r\n                <Card.Body>\r\n                    <Card.Title>Card Title</Card.Title>\r\n                    <Card.Text>\r\n                    Some quick example text to build on the card title and make up the bulk of\r\n                    the card's content.\r\n                    </Card.Text>\r\n                    <Button variant=\"primary\">Go somewhere</Button>\r\n                </Card.Body>\r\n                </Card> */}\r\n\r\n\r\n            </div>\r\n                \r\n        )    \r\n    }\r\n}\r\n\r\n//export default StopPage\r\nexport default withAuth(StopPage) // tried if this changes the fact that StopPage fucks up both login and signup","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../lib/Auth';\r\n\r\nfunction PublicRoute(props) {\r\n\r\n  console.log('props :>> ', props);\r\n\r\n  const { exact, path, component, isLoggedIn } = props;\r\n  const Component = component;\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={(props) => {\r\n        if (isLoggedIn) return <Redirect to=\"/private\" />\r\n        else if (!isLoggedIn) return <Component {...props} />\r\n      }} />\r\n  )\r\n}\r\n\r\nexport default withAuth(PublicRoute);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from '../lib/Auth';\r\n\r\nfunction PrivateRoute(props) {\r\n  console.log('props :>> ', props);\r\n\r\n  const { exact, path, component, isLoggedIn } = props;\r\n  const Component = component;\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={(props) => {\r\n        if (isLoggedIn) return <Component {...props} />\r\n        else if (!isLoggedIn) return <Redirect to=\"/login\" />\r\n      }} />\r\n  )\r\n}\r\n\r\nexport default withAuth(PrivateRoute);\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport NavbarComp from './components/NavbarComp';\r\nimport Home from './pages/Home';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\nimport Private from './pages/Private';\r\nimport StopPage from './pages/StopPage';\r\n\r\nimport PublicRoute from './components/PublicRoute';\r\nimport PrivateRoute from './components/PrivateRoute';\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <NavbarComp />\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          {/* <PublicRoute exact path=\"/:stopID\"  component={Stop} /> use wikicountires as example!! */}\r\n          \r\n          <PublicRoute exact path=\"/signup\" component={Signup} />\r\n          <PublicRoute exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/stops/:id\" component={StopPage} />\r\n          <PrivateRoute exact path=\"/private\" component={Private} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore} from \"redux\";\r\nimport {Provider} from \"react-redux\";\r\nimport stopsReducer from \"./redux/reducers/stopsReducer\"\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\nimport { AuthProvider } from './lib/Auth';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nconst store = createStore(stopsReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n\r\n  <Router>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </Router>\r\n\r\n  </Provider>\r\n  , document.getElementById('root'));\r\n"],"sourceRoot":""}